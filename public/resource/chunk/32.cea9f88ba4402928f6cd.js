webpackJsonp([32],{2238:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(322),r=n(2239),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(42),s=function(e){return{feedback:e.student.taskFeedback.feedback,wrongList:e.student.taskFeedback.wrongList,products:e.student.taskFeedback.products,yjQuestionList:e.student.yjQuestionList.yjQuestionList}},c=function(e){return{fetchFeedbackWithTaskId:function(t){e((0,o.fetch_feedback_with_taskid)(t))},fetchWrongListWithTaskId:function(t){e((0,o.fetch_wrong_list_with_taskid)(t))},reviseSomeWrongSuccess:function(t,n,a){e((0,o.revise_some_wrong_success)(t,n,a))},chargeVIPWithALiPay:function(t,n,a){e((0,o.charge_vip_with_alipay_request)(t,n,a))},clearTaskFeedback:function(){e((0,o.clear_task_feedback)())},choosedOneTeachingMaterial:function(t,n){e((0,o.choosed_one_teaching_material)(t,n))},fetchAllProducts:function(){e((0,o.fetch_all_products)())},fetchProductIdWithSubjectId:function(t){e((0,o.fetch_productid_with_subjectid)(t))},chargeTryVIP:function(t,n){e((0,o.charge_try_vip_in_task_feedback)(t,n))},fetchVideoWithWeakPoint:function(t,n,a){e((0,o.fetch_video_with_weak_point)(t,n,a))},fetchYJQuestionList:function(){e((0,o.fetch_yj_question_list)())}}},l=(0,a.connect)(s,c)(i.default);t.default=l,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(s,"mapStateToProps","D:/Work/yjyx_web/src/containers/student/task-feedback.js"),__REACT_HOT_LOADER__.register(c,"mapDispatchToProps","D:/Work/yjyx_web/src/containers/student/task-feedback.js"),__REACT_HOT_LOADER__.register(l,"default","D:/Work/yjyx_web/src/containers/student/task-feedback.js"))}()},2239:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){if(!e)return!1;if(!e)throw new Error("传入的参数为空!");for(var t=e.offsetTop,n=e.offsetParent;n;)t+=n.offsetTop,n=n.offsetParent;return t}Object.defineProperty(t,"__esModule",{value:!0});var l,d=n(336),u=a(d),f=n(208),p=a(f),h=n(151),m=a(h),k=n(35),y=a(k),b=n(1389),_=a(b),v=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();n(337),n(302),n(743),n(36),n(1391);var g=n(5),w=a(g);n(2240);var E=(n(321),n(23)),T=n(2242),C=a(T),j=n(987),A=a(j),R=n(1023),x=a(R),O=n(1084),P=a(O),q=n(2245),S=a(q),L=n(846),W=a(L),V=n(85),I=a(V),D=n(729),F=a(D),Q=n(1684),H=a(Q),N=_.default.TabPane,U=(0,S.default)(),M=function(){return window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop},B=function(e,t,n,a){var r=n-t;return e/=a/2,e<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t},K=(l={10:{order:3,template:27,id:10,subjectid:1,name:"解答题",component:P.default,questionProp:"freeResponseQuestion",needShowProp:"needShowAnswersThatUserFilled",answersThatUserFilled:"answersThatUserFilled",querySelector:".free-response-question-wrapper"},11:{order:3,template:27,id:11,subjectid:5,name:"探究题",component:P.default,questionProp:"freeResponseQuestion",needShowProp:"needShowAnswersThatUserFilled",answersThatUserFilled:"answersThatUserFilled",querySelector:".free-response-question-wrapper"},12:{order:2,template:22,id:12,subjectid:5,name:"填空题",component:x.default,questionProp:"blank",needShowProp:"needShowAnswersThatUserFilled",answersThatUserFilled:"answersThatUserFilled",querySelector:".fill-blank-wrapper"},13:{order:4,template:27,id:13,subjectid:5,name:"解答题",component:P.default,questionProp:"freeResponseQuestion",needShowProp:"needShowAnswersThatUserFilled",answersThatUserFilled:"answersThatUserFilled",querySelector:".free-response-question-wrapper"},14:{order:1,template:11,id:14,subjectid:1,name:"选择题"},15:{order:2,template:22,id:15,subjectid:1,name:"填空题",component:x.default,questionProp:"blank",needShowProp:"needShowAnswersThatUserFilled",answersThatUserFilled:"answersThatUserFilled",querySelector:".fill-blank-wrapper"},16:{order:1,template:11,id:16,subjectid:5,name:"选择题"},17:{order:3,template:21,id:17,subjectid:11,name:"阅读理解"},18:{order:1,template:11,id:18,subjectid:11,name:"选择题"},19:{order:2,template:21,id:19,subjectid:11,name:"完形填空"},20:{order:4,template:22,id:20,subjectid:11,name:"词汇运用"},21:{order:5,template:22,id:21,subjectid:11,name:"语法填空"},22:{order:6,template:27,id:22,subjectid:11,name:"任务型阅读"},23:{order:7,template:14,id:23,subjectid:11,name:"写作训练"},24:{order:2,template:21,id:24,subjectid:11,name:"听力"},29:{order:2,template:21,id:24,subjectid:11,name:"听力"},30:{order:1,template:27,id:30,subjectid:12,name:"基础知识"},31:{order:2,template:27,id:31,subjectid:12,name:"现代文阅读"}},s(l,"31",{order:3,template:27,id:32,subjectid:12,name:"文言文阅读"}),s(l,33,{order:4,template:27,id:33,subjectid:12,name:"古诗赏析"}),s(l,34,{order:5,template:14,id:34,subjectid:12,name:"作文"}),s(l,35,{order:1,template:11,id:35,subjectid:15,name:"选择题"}),l),J=function(){for(var e=JSON.parse((0,F.default)("questionType")),t=0,n=e.length,a=void 0,r={};t<n;t++)a=e[t],r[a.id]=a;return r}(),Y=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.compare=n.compare.bind(n),n.gotoWrongList=n.gotoWrongList.bind(n),n.handleTabChange=n.handleTabChange.bind(n),n.handleUserChangeChoice=n.handleUserChangeChoice.bind(n),n.handleReviseChoice=n.handleReviseChoice.bind(n),n.handleReviseSuccess=n.handleReviseSuccess.bind(n),n.handleClickQuestionCorrectRation=n.handleClickQuestionCorrectRation.bind(n),n.handleWatchVideo=n.handleWatchVideo.bind(n),n.chargeSuccess=n.chargeSuccess.bind(n),n.scrollToTopDestnationScrollTop=n.scrollToTopDestnationScrollTop.bind(n),n.handleClickChapter=n.handleClickChapter.bind(n),n.hasSyncVideo=n.hasSyncVideo.bind(n),n.chargeTryVIP=n.chargeTryVIP.bind(n),n.chargeVIP=n.chargeVIP.bind(n),n.state={activeKey:"1",choosedQuestion:null,choosedQuestionType:void 0,modalVisiblemodalVisible:!1,choosedWeakPoint:null,choosedWeakPointVideo:null,paperQuestionList:[],change:!1},n}return o(t,e),v(t,[{key:"sortQuestionList",value:function(e){if(e){var t=[],n=void 0;for(var a in e)n=J[a],"choices"!==a&&t.push(Object.assign({},{questions:this.handleMutipleQues(e[a]),order:n.order,name:n.name,type:a}));return t.sort(function(e,t){return e.order-t.order}),e.choices&&t.unshift({questions:e.choices,order:1,name:"选择题",type:"choices"}),t}}},{key:"handleMutipleQues",value:function(e){for(var t=0,n=e.length,a=void 0,r=void 0,i=[];t<n;t++){a=e[t];for(var o=0,s=a.answer.length;o<s;o++)r=Object.assign({},a,{answer:[]},{result:{results:[]}}),r.answer=[a.answer[o]],r.result.results=[a.result.results[o]],i.push(r)}return i}},{key:"handleQuestions",value:function(e){var t=this.sortQuestionList(e),n=void 0,a=void 0,r=0;return t?("选择题"===t[0].name&&(n=this.handleChoices(t[0].questions,"choices"),r=t[0].questions.length,t=t.slice(1)),a=this.handleOtherQues(t,r),w.default.createElement("div",{className:"question-correct-ration-list"},n,a)):null}},{key:"handleChoices",value:function(e){var t=this;return w.default.createElement("div",{style:{marginBottom:15}},w.default.createElement("h4",null,"选择题"),w.default.createElement("div",null,e.map(function(e,n){return w.default.createElement("div",{key:n,className:"box"},w.default.createElement(C.default,{handleClick:t.handleClickQuestionCorrectRation(e,"choices"),isWaitingMark:!1,title:n+1,correctRation:e.result[2]&&100||0}))})))}},{key:"handleOtherQues",value:function(e,t){var n=this;return w.default.createElement("div",null,e.map(function(e,a){return w.default.createElement("div",{key:a,style:{marginBottom:15}},w.default.createElement("h4",null,e.name),w.default.createElement("ul",{style:{paddingLeft:8}},e.questions.map(function(a,r){var i=a.result.results[0];return w.default.createElement("li",{key:a.id+r},w.default.createElement(C.default,{handleClick:n.handleClickQuestionCorrectRation(a,e.type),isWaitingMark:Boolean(i.tcs),title:++t,correctRation:parseInt(100*i.c)}))})))}))}},{key:"componentWillMount",value:function(){Object.keys(this.props.yjQuestionList).length<1&&this.props.fetchYJQuestionList();var e=this.props.match.params.taskId;this.props.fetchFeedbackWithTaskId(e),this.props.fetchAllProducts()}},{key:"changeOrder",value:function(e){var t=[];if(e){var n=void 0;"choices"===e[0]&&(n=e[0]),e.forEach(function(e){return"choices"!==e&&t.push(J[e])}),t.sort(function(e,t){return e.order-t.order}),t.forEach(function(e,n){return t[n]=e.id}),n&&t.unshift(n)}return t}},{key:"chargeSuccess",value:function(){var e=this.props.match.params.taskId;(0,H.default)({parameter:e,onOk:this.props.fetchFeedbackWithTaskId,onCancel:this.props.fetchFeedbackWithTaskId})}},{key:"chargeVIP",value:function(){this.setState({modalVisible:!1});var e=window.open("","_blank");e.document.write("前往支付宝付款...");var t={paymenttype:1,price_package_index:0},n={action:"purchase",productid:this.props.feedback.productId,detail:JSON.stringify(t)};this.props.chargeVIPWithALiPay(n,e,this.chargeSuccess)}},{key:"chargeTryVIP",value:function(){var e=this;this.setState({tryVIPLoading:!0}),this.props.chargeTryVIP(this.props.feedback.productId,function(){var t=e.props.match.params.taskId;e.props.fetchFeedbackWithTaskId(t),e.setState({tryVIPLoading:!1,modalVisible:!1})})}},{key:"handleWatchVideo",value:function(){var e=this.props.feedback.canView;console.log(this.props.feedback),e||this.setState({modalVisible:!0})}},{key:"initialCheckChoiceFunc",value:function(e){return function(t){e.checkAnswer||(e.checkAnswer=t)}}},{key:"handleReviseChoice",value:function(e,t){var n=this;return console.log(e),function(){e.checkAnswer&&e.checkAnswer(e,n.handleReviseSuccess("choices",e,t))}}},{key:"handleReviseSuccess",value:function(e,t,n){var a=this;return function(){a.props.match.params.taskType,a.props.feedback.hasRevisedCount+=1,a.forceUpdate();var r="choices"===e?"choice":e,i=s({},r,s({},t.id,1));a.props.reviseSomeWrongSuccess(s({action:"task_correct_result",taskid:a.props.match.params.taskId},"result",JSON.stringify(i)),e,n)}}},{key:"handleUserChangeChoice",value:function(e,t,n){var a=this;return function(t){e.userChoosedChoice=t,a.forceUpdate()}}},{key:"handleTabChange",value:function(e){if("3"===e){var t=this.props.wrongList.questionList;(!t||Array.isArray(t)&&!t.length)&&this.props.fetchWrongListWithTaskId(this.props.match.params.taskId)}this.state.activeKey!==e&&this.setState({activeKey:e})}},{key:"gotoWrongList",value:function(){this.setState({activeKey:"3"}),this.handleTabChange("3")}},{key:"compare",value:function(e,t){return e=parseInt(e),t=parseInt(t),e===t?"等于":e<t?"低于":"高于"}},{key:"handleClickQuestionCorrectRation",value:function(e,t){var n=this;return function(){n.setState({change:!n.state.change}),e!==n.state.choosedQuestion&&n.setState({choosedQuestion:e,choosedQuestionType:t})}}},{key:"hasSyncVideo",value:function(e){var t={gradeId:e.gradeid,seriesId:e.textbookvolid,versionId:e.textbookverid,subjectId:e.subjectid},n=this.props.products;if(null===n)return!1;for(var a=void 0,r=0,i=n.length;r<i;r++){for(var o=n[r],s=o.content.grade_tbver_tbvol,i=s&&s.length||0,c=0;c<i;c++){var l=s[c];if(t.gradeId===l.grade_id&&t.seriesId===l.textbookvol_id&&t.versionId===l.textbookver_id){a=o.id;break}}if(void 0!==a)break}return void 0!==a}},{key:"handleClickChapter",value:function(e){var t=this;return function(){var n={action:"getonememproductinfo",subjectid:e.subjectid};E.Networker.snatch("/api/student/mobile/m_product/","GET",n).then(function(e){return 0!==e.retcode?y.default.error("获取同步视频失败: "+e.msg):e.id}).then(function(n){t.props.history.push("/student/sync-classroom/"+n+"/"+e.gradeid+"/"+e.textbookverid+"/"+e.textbookvolid+"/"+e.subjectid+"/"+e.textbookunitid)})}}},{key:"handleClickWeakPoint",value:function(e){var t=this;return function(){if(!t.props.feedback.canView)return t.handleWatchVideo();e!==t.state.choosedWeakPoint&&(t.setState({choosedWeakPoint:e}),I.default.unmountComponentAtNode(document.getElementById("weak-point-video-container")),t.props.fetchVideoWithWeakPoint(e,t.props.feedback.subjectId,function(){return t.forceUpdate()}))}}},{key:"handleClickVideoList",value:function(e){var t=this;return function(){var n=t.props.feedback,a=n.subjectId,r=n.canView;t.state.choosedWeakPointVideo!==e&&(e&&e.url&&I.default.render(w.default.createElement(W.default,{src:e.url,needReport:!0,videoType:"weakknowledge",subjectId:a,canView:r}),document.getElementById("weak-point-video-container")),t.setState({choosedWeakPointVideo:e}))}}},{key:"componentDidUpdate",value:function(e,t){if(this.state.choosedQuestion!==t.choosedQuestion){var n=this.state.choosedQuestionType,a=document.querySelector(".choosed-question-container"),r=null;r="choices"===n?a.querySelector(".choice-wrapper"):a.querySelector(K[n].querySelector);var i=c(r),o=i+a.clientHeight,s=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;o>s&&this.scrollToTopDestnationScrollTop(o-s+5)}}},{key:"setScrollTop",value:function(e){document.body.scrollTop=e,document.documentElement.scrollTop=e}},{key:"scrollToTopDestnationScrollTop",value:function(e){var t=this,n=M(),a=Date.now();U(function r(){var i=Date.now(),o=i-a;t.setScrollTop(B(o,n,e,450)),o<450&&U(r)})}},{key:"componentWillUnmount",value:function(){this.props.clearTaskFeedback()}},{key:"render",value:function(){var e=this,t=this.props.feedback,n=t.myCorrectRation,a=t.classCorrectRation,r=t.myTimeConsumed,i=t.classTimeConsumedAve,o=t.teacherSuggestedTimeConsumed,c=t.deliverTime,l=t.startTime,d=t.endTime,f=t.myLastCorrectRation,h=t.totalError,k=t.hasRevisedCount,y=t.questionList,b=t.questionOrders,v=t.canTry,g=t.canView,E=t.subjectId,T=t.taskDetail;b=this.changeOrder(b);var j=this.props,R=j.wrongList,x=j.location,O=j.yjQuestionList,P=x.state&&x.state.isPaper,q=this.state,S=q.activeKey,L=q.choosedQuestion,W=q.choosedQuestionType,V=q.modalVisible,I=q.choosedWeakPoint,D=q.change;return console.log(R),w.default.createElement("div",{className:"task-feedback-wrapper"},w.default.createElement("div",{className:"task-feedback-content"},w.default.createElement(_.default,{type:"card",onChange:this.handleTabChange,activeKey:S},w.default.createElement(N,{tab:"完成情况",key:"1"},w.default.createElement("h2",null,"作业名称: ",T&&""+T.resource_name||"暂无"),w.default.createElement("ul",{className:"feedback-list"},["我的正确率","班级正确率"].map(function(e,t){return w.default.createElement("li",{key:t},w.default.createElement("div",null,w.default.createElement("span",null,0===t?n||0:a||0),w.default.createElement("em",null,"%")),w.default.createElement("div",null,e))})),w.default.createElement("div",{className:"revise"},h?w.default.createElement("p",null,"本次作业共有",w.default.createElement("span",null,h,"道错题"),", 已订正",w.default.createElement("span",null,k||0,"题"),h>k?", 观看解题视频及时订正错题":"",h>k&&w.default.createElement(p.default,{type:"primary",style:{marginLeft:15},onClick:this.gotoWrongList},w.default.createElement(m.default,{type:"edit"}),"去订正")||null):null),P?"":w.default.createElement("h2",null,"作业用时"),P?"":w.default.createElement("ul",{className:"feedback-list"},["我的用时","班级平均用时","老师建议用时"].map(function(e,t){return w.default.createElement("li",{key:t},w.default.createElement("div",null,w.default.createElement("span",null,0===t?r||"-":1===t?i||"-":o||"-"),w.default.createElement("em",null,"分钟")),w.default.createElement("div",null,e))})),P?w.default.createElement("span",{style:{marginLeft:10}},"完成时间:",d||"--"):w.default.createElement("ul",{style:{marginTop:15}},w.default.createElement("li",null,w.default.createElement(m.default,{type:"clock-circle-o"}),w.default.createElement("span",{style:{marginLeft:10}},"布置时间:",c||"--")),w.default.createElement("li",null,w.default.createElement(m.default,{type:"clock-circle-o"}),w.default.createElement("span",{style:{marginLeft:10}},"开始时间:",l||"--")),w.default.createElement("li",null,w.default.createElement(m.default,{type:"clock-circle-o"}),w.default.createElement("span",{style:{marginLeft:10}},"完成时间:",d||"--"))),w.default.createElement("h2",null,"作业分析"),w.default.createElement("p",{className:"desc"},"本次作业正确率",w.default.createElement("span",{className:"stress-word"},this.compare(n,a)),"班级平均正确率,",w.default.createElement("span",{className:"stress-word"},this.compare(n,f)),"上次作业正确率",P?".":w.default.createElement("span",{dangerouslySetInnerHTML:{__html:',  我的本次作业用时<span class="stress-word">'+this.compare(r,i)+"</span>班级平均用时. "}})),T&&Array.isArray(T.currweakknowledgepoint)&&T.currweakknowledgepoint.length&&w.default.createElement("div",null,w.default.createElement("h2",null,"未掌握知识点"),w.default.createElement("ul",{className:"sgttaglist"},T.currweakknowledgepoint.map(function(t,n){return w.default.createElement("li",{key:n},t.name,w.default.createElement("span",{className:"chapter",onClick:e.handleClickWeakPoint(t)},"知识点视频讲解>"))}),function(){return I&&Array.isArray(I.weakPointLessons)?I.weakPointLessons.length?w.default.createElement("ul",{style:{marginTop:10,marginBottom:10},className:"weak-point-video-list"},w.default.createElement("p",{style:{color:"#1697e5"}},"视频列表"),I.weakPointLessons.map(function(t,n){return w.default.createElement("li",{key:n,style:{display:"inline-block"}},JSON.parse(t.videoobjlist).map(function(t,n){return w.default.createElement("p",{key:n,onClick:e.handleClickVideoList(t)},t.title||"暂无标题")}))})):w.default.createElement("p",{style:{color:"#1697e5"}},"暂无知识点视频讲解"):null}()),w.default.createElement("div",{id:"weak-point-video-container"}))||null),w.default.createElement(N,{tab:"题目详情",key:"2"},h===k?"":w.default.createElement("div",{className:"feedBackTips"},w.default.createElement("i",{className:"anticon anticon-exclamation-circle ant-alert-icon"}),"正确答案将于订正全部错题后公布"),P?this.handleQuestions(y):Array.isArray(b)&&b.map(function(t,n){return w.default.createElement("div",{key:n,style:{marginBottom:15}},w.default.createElement("h4",null,"choices"===t?"选择题":O[t].name),w.default.createElement("div",{className:"question-correct-ration-list"},"choices"===t?y.choices.map(function(n,a){return n?w.default.createElement("div",{key:a,className:"box"},w.default.createElement(C.default,{handleClick:e.handleClickQuestionCorrectRation(n,t),change:D,isWaitingMark:!1,title:a+1,correctRation:n.result[2]&&100||0})):null}):y[t].map(function(n,a){return n?w.default.createElement("div",{key:a},w.default.createElement("p",null,"题",a+1),w.default.createElement("ul",{style:{paddingLeft:8}},n.result.results&&n.result.results.map(function(a,r){return w.default.createElement("li",{key:r},w.default.createElement(C.default,{handleClick:e.handleClickQuestionCorrectRation(n,t),change:D,isWaitingMark:Boolean(a.tcs),title:"("+(r+1)+")",correctRation:parseInt(100*a.c)}))}))):null})))}),W&&w.default.createElement("div",{className:"choosed-question-container"},function(){var t;switch(W){case"choices":case 14:case 16:case 18:case 35:return w.default.createElement(A.default,{dangerousHTML:L.content,needShowAnswers:h===k,style:{width:"60%"},needShowChoicesThatUserChoosed:!0,choicesThatUserChoosed:L.result[1],answer:L.answer,showPlayer:!0,videourl:L.videourl,explanation:L.explanation,choice:L,activeKey:S,canView:Boolean(e.props.feedback.canView),handleWatchVideo:e.handleWatchVideo});default:return w.default.createElement(O[W].component,(t={},s(t,O[W].questionProp,L),s(t,O[W].needShowProp,!0),s(t,O[W].answersThatUserFilled,L.result.results),s(t,"style",{width:"100%"}),s(t,"needShowAnswers",h===k),s(t,"videourl",L.videourl),s(t,"isPaper",!!P),s(t,"activeKey",S),s(t,"explanation",L.explanation),s(t,"canView",Boolean(e.props.feedback.canView)),s(t,"handleWatchVideo",e.handleWatchVideo),s(t,"showPlayer",!0),t))}}())),h>k&&w.default.createElement(N,{tab:"错题列表",key:"3"},R&&Array.isArray(R.questionOrders)&&R.questionOrders.map(function(t,n){return w.default.createElement("div",{key:n,style:{marginBottom:15}},"choices"===t?Array.isArray(R.questionList.choices)&&R.questionList.choices.length?w.default.createElement("h4",null,"选择题"):null:Array.isArray(R.questionList[t])&&R.questionList[t].length?w.default.createElement("h4",null,O[t].name):null,w.default.createElement("ul",null,"choices"===t?R.questionList[t].map(function(t,n){return w.default.createElement(A.default,{key:n,dangerousHTML:t.content,answer:t.answer,hasChecked:t.hasChecked,isTrue:t.isTrue,initialCheckFunc:e.initialCheckChoiceFunc(t),index:n+1,activeKey:S,needRevise:!0,videourl:t.videourl,explanation:t.explanation,handleRevise:e.handleReviseChoice(t,n),canView:Boolean(g),subjectId:E,handleWatchVideo:e.handleWatchVideo,choice:t})}):R.questionList[t].map(function(n,a){var r;return w.default.createElement(O[t].component,(r={key:n.id},s(r,O[t].questionProp,n),s(r,"index",a+1),s(r,"activeKey",S),s(r,"handleReviseSuccess",e.handleReviseSuccess(t,n,a)),s(r,"needRevise",!0),s(r,"canView",Boolean(g)),s(r,"subjectId",E),s(r,"handleWatchVideo",e.handleWatchVideo),s(r,"videourl",n.videourl),s(r,"explanation",n.explanation),r))})))})))),function(){if(!g){var t=null;return t=v?[w.default.createElement(p.default,{onClick:e.chargeTryVIP,loading:e.state.tryVIPLoading,key:"1"},"开通试用会员"),w.default.createElement(p.default,{onClick:e.chargeVIP,key:"2",type:"primary"},"开通会员")]:[w.default.createElement(p.default,{onClick:e.chargeVIP,key:"2"},"开通会员")],w.default.createElement(u.default,{visible:V,title:"开通该学科会员, 观看解题视频?",closable:!0,footer:t,maskClosable:!0,wrapClassName:"sync-class-modal",onCancel:function(){return e.setState({modalVisible:!1})}},"仅会员才可观看解题视频哦!")}return null}())}}]),t}(g.Component),z=Y;t.default=z,function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(c,"calculateElementOffsetTop","D:/Work/yjyx_web/src/components/student/task-feedback/index.js"),__REACT_HOT_LOADER__.register(Y,"TaskFeedback","D:/Work/yjyx_web/src/components/student/task-feedback/index.js"),__REACT_HOT_LOADER__.register(N,"TabPane","D:/Work/yjyx_web/src/components/student/task-feedback/index.js"),__REACT_HOT_LOADER__.register(U,"reqAnimFrame","D:/Work/yjyx_web/src/components/student/task-feedback/index.js"),__REACT_HOT_LOADER__.register(M,"currentScrollTop","D:/Work/yjyx_web/src/components/student/task-feedback/index.js"),__REACT_HOT_LOADER__.register(B,"easeInOutCubic","D:/Work/yjyx_web/src/components/student/task-feedback/index.js"),__REACT_HOT_LOADER__.register(K,"yjQuestionList","D:/Work/yjyx_web/src/components/student/task-feedback/index.js"),__REACT_HOT_LOADER__.register(J,"QUESTION_TYPES","D:/Work/yjyx_web/src/components/student/task-feedback/index.js"),__REACT_HOT_LOADER__.register(z,"default","D:/Work/yjyx_web/src/components/student/task-feedback/index.js"))}()},2240:function(e,t,n){var a=n(2241);"string"==typeof a&&(a=[[e.i,a,""]]);var r={};r.transform=void 0,n(117)(a,r),a.locals&&(e.exports=a.locals)},2241:function(e,t,n){t=e.exports=n(116)(void 0),t.push([e.i,".task-feedback-wrapper{max-width:1130px;margin:0 auto;padding:15px;background-color:hsla(0,0%,100%,.4);border-radius:20px;margin-top:20px}.task-feedback-wrapper .task-feedback-content{background-color:#fff;padding:15px 30px;min-height:580px}.task-feedback-wrapper .task-feedback-content h2{margin-top:15px}.task-feedback-wrapper .task-feedback-content .feedback-list li{display:inline-block;margin-right:20px;min-width:88px}.task-feedback-wrapper .task-feedback-content .feedback-list li div{text-align:left}.task-feedback-wrapper .task-feedback-content .feedback-list li div:first-child{color:red;position:relative}.task-feedback-wrapper .task-feedback-content .feedback-list li div:first-child span{font-size:30px}.task-feedback-wrapper .task-feedback-content .feedback-list li div:first-child em{font-style:normal;font-size:18px;position:relative;left:6px;top:-8px}.task-feedback-wrapper .task-feedback-content .feedBackTips{text-align:center;color:#f0ad4e}.task-feedback-wrapper .task-feedback-content .revise p>span{color:red}.task-feedback-wrapper .task-feedback-content .choice-wrapper{padding:10px}.task-feedback-wrapper .desc span.stress-word{color:red}.free-response-question-wrapper{padding:10px}.revise{margin-top:15px}.revise button{margin-left:15px}.revise p>span{color:red}.question-correct-ration-list .box,.question-correct-ration-list li{display:inline-block;margin-right:10px}.sgttaglist{list-style:disc!important}.sgttaglist .chapter{color:#1697e5;margin-left:8px}.sgttaglist .chapter:hover{cursor:pointer}.weak-point-video-list li p{border:1px solid #e5e5e5;display:inline-block;margin-right:10px;padding:3px;border-radius:3px}.weak-point-video-list li p:hover{cursor:pointer}",""])},2242:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(5),l=a(c),d=n(12),u=a(d);n(2243);var f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.state={change:!1,checked:!1},n}return o(t,e),s(t,[{key:"handleClick",value:function(e){this.setState({change:!this.state.change});var t=this.props.handleClick;t&&t()}},{key:"componentWillUpdate",value:function(e,t){this.state.change!==t.change&&this.setState({checked:!0}),this.state.checked&&this.state.change===t.change&&this.setState({checked:!1})}},{key:"render",value:function(){var e=this.props.isWaitingMark,t=this.props,n=t.correctRation,a=t.title,r=(t.change,this.state.checked?"show-question-correct-ration checked":"show-question-correct-ration"),i=this.state.checked?"question-is-waiting-mark checked":"question-is-waiting-mark";return l.default.createElement("div",{className:"question-correct-ration",onClick:this.handleClick.bind(this,a)},l.default.createElement("span",null,a),e?l.default.createElement("div",{className:i},"待批"):l.default.createElement("div",{ref:a,className:r},n,"%"))}}]),t}(c.Component),p=f;t.default=p,f.propTypes={correctRation:u.default.oneOfType([u.default.string,u.default.number]),title:u.default.oneOfType([u.default.string,u.default.number]),isWaitingMark:u.default.bool,handleClick:u.default.func},f.defaultProps={correctRation:0,title:"暂无标题",isWaitingMark:!1},function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(f,"QuestionCorrectRation","D:/Work/yjyx_web/src/components/student/question-correct-ration/index.js"),__REACT_HOT_LOADER__.register(p,"default","D:/Work/yjyx_web/src/components/student/question-correct-ration/index.js"))}()},2243:function(e,t,n){var a=n(2244);"string"==typeof a&&(a=[[e.i,a,""]]);var r={};r.transform=void 0,n(117)(a,r),a.locals&&(e.exports=a.locals)},2244:function(e,t,n){t=e.exports=n(116)(void 0),t.push([e.i,".question-correct-ration{text-align:center;cursor:pointer}.question-correct-ration div{width:40px;height:40px;line-height:40px;border-radius:50%;text-align:center}.question-correct-ration .question-is-waiting-mark{border:1px dashed gray;color:gray}.question-correct-ration .show-question-correct-ration{background-color:#1697e5;color:#fff}.question-correct-ration .checked{background:#20aae8}",""])},2245:function(e,t,n){"use strict";function a(){var e=0;return function(t){var n=(new Date).getTime(),a=Math.max(0,16-(n-e)),r=window.setTimeout(function(){t(n+a)},a);return e=n+a,r}}function r(){if("undefined"==typeof window)return function(){};if(window.requestAnimationFrame)return window.requestAnimationFrame;var e=o.filter(function(e){return e+"RequestAnimationFrame"in window})[0];return e?window[e+"RequestAnimationFrame"]:a()}function i(e){if("undefined"==typeof window)return null;if(window.cancelAnimationFrame)return window.cancelAnimationFrame(e);var t=o.filter(function(e){return e+"CancelAnimationFrame"in window||e+"CancelRequestAnimationFrame"in window})[0];return t?(window[t+"CancelAnimationFrame"]||window[t+"CancelRequestAnimationFrame"]).call(this,e):clearTimeout(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,t.cancelRequestAnimationFrame=i;var o=["moz","ms","webkit"];!function(){"undefined"!=typeof __REACT_HOT_LOADER__&&(__REACT_HOT_LOADER__.register(a,"requestAnimationFramePolyfill","D:/Work/yjyx_web/src/utils/getRequestAnimationFrame.js"),__REACT_HOT_LOADER__.register(r,"getRequestAnimationFrame","D:/Work/yjyx_web/src/utils/getRequestAnimationFrame.js"),__REACT_HOT_LOADER__.register(i,"cancelRequestAnimationFrame","D:/Work/yjyx_web/src/utils/getRequestAnimationFrame.js"),__REACT_HOT_LOADER__.register(o,"availablePrefixs","D:/Work/yjyx_web/src/utils/getRequestAnimationFrame.js"))}()}});